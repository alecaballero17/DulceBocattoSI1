{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center">
  <h2>Factura {{ factura.nro }}</h2>
  <button onclick="window.print()" class="btn btn-outline-secondary">Imprimir / Guardar PDF</button>
</div>
<hr>
<p><b>Fecha:</b> {{ factura.fecha|date:"Y-m-d H:i" }}</p>
<p><b>Pedido:</b> #{{ pedido.id }}</p>
<p><b>NIT/CI:</b> {{ factura.nit_cliente }}</p>
<p><b>Raz√≥n social:</b> {{ factura.razon_social }}</p>
<p><b>Total:</b> <b>{{ factura.total|floatformat:2 }} Bs.</b></p>

<a class="btn btn-secondary mt-3" href="{% url 'pedido_detalle' pedido.id %}">Volver al pedido</a>

<hr>
<h5>Detalle</h5>
<table class="table table-sm">
  <thead>
    <tr>
      <th>Producto</th>
      <th>Sabor</th>
      <th class="text-end">Cant.</th>
      <th class="text-end">P. Unit.</th>
      <th class="text-end">Subtotal</th>
    </tr>
  </thead>
  <tbody>
    {% for it in items %}
    <tr>
      <td>{{ it.producto }}</td>
      <td>{{ it.sabor }}</td>
      <td class="text-end">{{ it.cantidad }}</td>
      <td class="text-end">{{ it.precio_unitario|floatformat:2 }}</td>
      <td class="text-end">{{ it.sub_total|floatformat:2 }}</td>
    </tr>
    {% endfor %}
  </tbody>
  <tfoot>
    <tr>
      <th colspan="4" class="text-end">Total</th>
      <th class="text-end">{{ factura.total|floatformat:2 }}</th>
    </tr>
  </tfoot>
</table>

{% endblock %}
